<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
    
    <h:head>
    	<title>Lista de Tarefas</title> 
	</h:head>
    
    <h:body>
    
    	<h:form>
    	
    		<fieldset>
    			<legend>Dados da tarefa</legend>
    			
    			<p:growl id="growl" life="2000" />
    			
    			<p:inputText value="#{gerenciadorTarefasBean.tarefa.id}" type="hidden" />
    			
    			<h3>Título</h3>
    			<p:inputText value="#{gerenciadorTarefasBean.tarefa.titulo}" />
    			
    			<h3>Descrição</h3>
    			<p:inputText value="#{gerenciadorTarefasBean.tarefa.descricao}" />
    			
    			<h3>Prioridade</h3>
    			<p:selectOneMenu id="console" value="#{gerenciadorTarefasBean.tarefa.prioridade}" style="width:125px">
		            <f:selectItem itemLabel="Baixa" itemValue="Baixa" />
		            <f:selectItem itemLabel="Média" itemValue="Média" />
		            <f:selectItem itemLabel="Alta" itemValue="Alta" />
		            <f:facet name="footer">
		               <p:separator />
		               <h:outputText value="3 prioridades" style="font-weight:bold;"/>
		            </f:facet>
		        </p:selectOneMenu>
    			
    			<h3>Data Limite</h3>
    			<div>
    				<p:calendar id="data-limite" value="#{gerenciadorTarefasBean.tarefa.dataLimite}" />
    			</div>
    			
    			<br/>
    			
    			<p:commandButton value="Salvar" id="salvar" update="@all" action="#{gerenciadorTarefasBean.salvarTarefa}" style="margin-right:20px;" styleClass="ui-priority-primary" />
    			
    		</fieldset>
    	
  			<h2>Lista de Tarefas</h2>
			
			<h:dataTable value="#{gerenciadorTarefasBean.tarefas}" var="tarefa" id="tarefas">
				<h:column>
					<f:facet name="header">ID</f:facet>
					#{tarefa.id}
				</h:column>
				
				<h:column>
					<f:facet name="header">Título</f:facet>
					#{tarefa.titulo}
				</h:column>
				
				<h:column>
					<f:facet name="header">Descrição</f:facet>
					#{tarefa.descricao}
				</h:column>
				
				<h:column>
					<f:facet name="header">Prioridade</f:facet>
					#{tarefa.prioridade}
				</h:column>
				
				<h:column>
					<f:facet name="header">Data Limite</f:facet>
				
					<h:outputText value="#{tarefa.dataLimite}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:outputText>
				</h:column>
				
				<h:column>
					<p:commandLink id="apagar" update="@all" action="#{gerenciadorTarefasBean.apagarTarefa(tarefa)}" style="margin-right:20px;">
        				<h:outputText value="Apagar" />
    				</p:commandLink>
				</h:column>
				
				<h:column>
					<p:commandLink id="editar" update="@all" action="#{gerenciadorTarefasBean.editarTarefa(tarefa)}" style="margin-right:20px;">
        				<h:outputText value="Editar" />
    				</p:commandLink>
				</h:column>				

			</h:dataTable>
    	</h:form>
    
    </h:body>
</html>